<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRF Synthesizer (Wangari Maathai Demo)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn {
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }
        .btn-primary:hover {
            background-color: #4338ca;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 md:p-8">

    <div id="app" class="w-full max-w-7xl mx-auto">
        
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold">PRF Synthesizer (Wangari Maathai Demo)</h1>
            <p class="text-gray-600 mt-2">This is a pre-populated example to demonstrate the potential of the PRF analysis.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">About This Demo</h2>
                    <p class="text-gray-700 mb-4">The text in these boxes has been pre-filled with reflections from the perspective of Wangari Maathai, based on her writings and activism.</p>
                    <p class="text-gray-700">Read through the reflections, and then use the button below to load this data into the main Synthesizer app for analysis.</p>
                    <button id="load-demo-btn" class="btn btn-primary w-full mt-4 py-3 rounded-lg font-semibold">Load this Demo into Synthesizer</button>
                </div>
                 <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Your Task</h2>
                    <p class="text-gray-700">After loading the data, open the main PRF Synthesizer. You can then use the "Guided Synthesis" feature to have a conversation with the AI tutor about this example, providing a model for your own analysis.</p>
                </div>
            </div>

            <div class="lg:col-span-2 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Review of Pre-populated Data</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-[400px] overflow-y-auto p-2 bg-gray-50 rounded-lg">
                        <textarea id="beliefs-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="rules-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="ontology-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="authenticity-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="assembly_history-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="future_pull-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                    </div>
                </div>
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Sample Synthesis</h2>
                    <textarea id="synthesis-input" class="w-full h-80 p-3 border border-gray-300 rounded-lg" readonly></textarea>
                    
                    <div class="mt-6">
                        <h3 class="font-semibold mb-2 text-indigo-700 text-xl">Sample AI Analysis & Feedback</h3>
                        <div id="ai-analysis-display" class="w-full min-h-[100px] p-3 bg-gray-50 border rounded-lg whitespace-pre-wrap"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const displays = {
                beliefs: document.getElementById('beliefs-display'),
                rules: document.getElementById('rules-display'),
                ontology: document.getElementById('ontology-display'),
                authenticity: document.getElementById('authenticity-display'),
                assembly_history: document.getElementById('assembly_history-display'),
                future_pull: document.getElementById('future_pull-display'),
                synthesis: document.getElementById('synthesis-input'),
                ai: document.getElementById('ai-analysis-display'),
            };

            const demoData = {
                beliefs: `My core belief is that the health of our environment, the practice of democracy, and the rights of women are fundamentally inseparable. I believe that peace cannot be achieved in a society that degrades its natural resources and disempowers its citizens. I also believe in the power of ordinary people, especially rural women, to become powerful agents of change when they are given the knowledge and the tools to act. A tree, for me, is a symbol of hope and a practical tool for sustainable development.`,
                rules: `A primary rule of the Green Belt Movement was to "start small, but think big." We began by simply planting trees, a concrete and achievable action. Another rule was to "empower the grassroots." We did not impose solutions from above; we trained women to be foresters and leaders in their own communities. Finally, I lived by the rule of "speaking truth to power," which meant directly challenging the corrupt government policies that led to deforestation and land grabbing, even when it led to imprisonment and physical assault.`,
                ontology: `My ontology is that of an integrated ecosystem. For me, what is most 'real' is not just the individual tree, but the entire forest systemâ€”the soil, the water, the biodiversity, and the human community that depends on it. I see the political and the environmental as a single, interconnected reality. Deforestation was not just an ecological problem; it was a symptom of a corrupt political system. Therefore, planting a tree was not just a conservation activity; it was a political act of reclaiming our land and our future.`,
                authenticity: `Authenticity for me meant that I had to live the connection between the environment and good governance. It would have been inauthentic to be a trained scientist and not use that knowledge to address the suffering I saw in my community. My authentic self was the one who could not separate the scientific fact of ecological degradation from the political reality of corruption and the social reality of women's disempowerment. To be authentic, I had to be a scientist, an activist, and a political leader, because the problem itself was integrated across all those domains.`,
                assembly_history: `My assembly history gave me a unique bridge between two worlds. I grew up in a rural Kenyan village, which gave me a deep, intuitive understanding of the importance of the land and its resources. My advanced scientific education in the United States and Germany gave me the technical language and framework to understand the environmental science behind what I had known intuitively. The key event was returning to Kenya and seeing the devastating effects of deforestation on the women in my community. It was a moment where my scientific training and my cultural roots fused, giving me a clear mission: to use science to empower women to restore their land.`,
                future_pull: `My 'future pull' was the vision of a democratic, peaceful, and green Kenya. I envisioned a future where the landscape was covered in trees, where women were empowered leaders, and where the government was accountable to its people. This vision of a restored and just society created a present constraint, motivating me to continue the work of the Green Belt Movement despite arrests, beatings, and political opposition. Every tree we planted was a seed of that future, a tangible piece of the world we were trying to build.`,
                synthesis: `My framework is built on the core belief that peace is rooted in the earth, and that environmental healing, women's empowerment, and democratic governance are three legs of the same stool. This ecological ontology, which sees the political and natural worlds as a single system, directly informs my primary rule: to empower ordinary citizens to take small, concrete actions, like planting trees, as a means of achieving large-scale social and political change. My personal authenticity was found in my refusal to be defined by a single role; I had to be a scientist, an activist, and a politician because the problem demanded an integrated solution. My assembly history gave me a unique ability to bridge traditional knowledge with modern science. The 'future pull' of a green and peaceful Kenya was the vision that sustained me through years of struggle. My synthesis is this: sustainable development is not a technical problem but a political and ethical one. True peace can only be achieved when we recognize that our future depends on the health of our planet and the empowerment of all our people, especially women.`,
                ai: `Thank you for these powerful and integrated reflections. Your framework demonstrates a profound understanding of the deep connections between environmental, social, and political systems.\n\n**Key Themes:**\n1.  **Holistic Interconnection:** A central theme is your unwavering insistence that environmental health, women's rights, and democracy are inseparable. You consistently analyze problems and frame solutions in a way that addresses all three elements simultaneously.\n2.  **Grassroots Empowerment:** You believe that true, lasting change comes from the bottom up. Your work is a masterclass in empowering ordinary people, particularly women, with the knowledge and resources to become leaders in their own communities.\n3.  **The Tree as a Symbol and Tool:** You masterfully use the simple, powerful act of planting a tree as both a practical tool for environmental restoration and a profound political symbol of hope, resistance, and reclaiming the future.\n\n**Potential Tensions:**\n- You successfully transitioned from a grassroots activist, often in direct opposition to the government, to a Member of Parliament working within that same system. How did you navigate the potential compromises and ethical challenges of moving from an outside critic to an inside participant in the formal structures of power?\n\n**A Question for Deeper Synthesis:**\n- The Green Belt Movement has been celebrated globally as a model for sustainable development. If you were to give advice to a young activist in a different country facing a different set of challenges (e.g., digital rights, urban poverty), what is the single most important "rule" from your framework that you believe would be universally applicable to their work?`
            };

            const DEMO_NAME = 'Wangari Maathai';
            const loadDemoBtn = document.getElementById('load-demo-btn');
            const DATA_KEYS = {
                beliefs: 'prf_beliefs_data',
                rules: 'prf_rules_data',
                ontology: 'prf_ontology_data',
                authenticity: 'prf_authenticity_data',
                assembly_history: 'prf_assembly_history_data',
                future_pull: 'prf_future_pull_data'
            };
            const DEMO_NAME_KEY = 'prf_current_demo_name';

            function showMessage(message, type = 'success') {
                const toast = document.createElement('div');
                toast.textContent = message;
                let bgColor = type === 'success' ? 'bg-green-600' : 'bg-red-600';
                toast.className = `fixed top-5 left-1/2 -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg transition-opacity duration-300`;
                document.body.appendChild(toast);
                setTimeout(() => toast.style.opacity = '0', 2700);
                setTimeout(() => toast.remove(), 3000);
            }
            
            // Populate the display boxes on page load
            Object.keys(displays).forEach(key => {
                if (demoData[key]) {
                    displays[key].value = demoData[key];
                    displays[key].textContent = demoData[key];
                }
            });

            loadDemoBtn.addEventListener('click', () => {
                try {
                    localStorage.setItem(DEMO_NAME_KEY, DEMO_NAME);
                    Object.keys(DATA_KEYS).forEach(key => {
                        localStorage.setItem(DATA_KEYS[key], demoData[key]);
                    });
                    showMessage('Demo data has been successfully saved. You can now load it in the main PRF Synthesizer app.');
                } catch (e) {
                    console.error("Error saving to localStorage:", e);
                    showMessage('Could not save demo data. Your browser may be in private mode or have storage disabled.', 'error');
                }
            });
        });
    </script>
</body>
</html>
