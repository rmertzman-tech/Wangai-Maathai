<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PRF Synthesizer (Wangari Maathai Demo)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn {
            transition: background-color 0.3s, transform 0.2s;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }
        .btn-primary:hover {
            background-color: #4338ca;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 md:p-8">

    <div id="app" class="w-full max-w-7xl mx-auto">
        
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold">PRF Synthesizer (Wangari Maathai Demo)</h1>
            <p class="text-gray-600 mt-2">This is a pre-populated example to demonstrate the potential of the PRF analysis.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            
            <div class="lg:col-span-1 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">About This Demo</h2>
                    <p class="text-gray-700 mb-4">The text in these boxes has been pre-filled with reflections from the perspective of Wangari Maathai, based on her writings and life's work.</p>
                    <p class="text-gray-700">Read through the reflections, and then use the button below to load this data into the main Synthesizer app for analysis.</p>
                    <button id="load-demo-btn" class="btn btn-primary w-full mt-4 py-3 rounded-lg font-semibold">Load this Demo into Synthesizer</button>
                </div>
                 <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Your Task</h2>
                    <p class="text-gray-700">After loading the data, open the main PRF Synthesizer. You can then use the "Guided Synthesis" feature to have a conversation with the AI tutor about this example, providing a model for your own analysis.</p>
                </div>
            </div>

            <div class="lg:col-span-2 space-y-6">
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Review of Pre-populated Data</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 h-[400px] overflow-y-auto p-2 bg-gray-50 rounded-lg">
                        <textarea id="beliefs-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="rules-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="ontology-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="authenticity-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="assembly_history-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                        <textarea id="future_pull-display" class="w-full h-full p-2 border rounded-md bg-white" readonly></textarea>
                    </div>
                </div>
                <div class="card p-6">
                    <h2 class="text-xl font-bold mb-4">Sample Synthesis</h2>
                    <textarea id="synthesis-input" class="w-full h-80 p-3 border border-gray-300 rounded-lg" readonly></textarea>
                    
                    <div class="mt-6">
                        <h3 class="font-semibold mb-2 text-indigo-700 text-xl">Sample AI Analysis & Feedback</h3>
                        <div id="ai-analysis-display" class="w-full min-h-[100px] p-3 bg-gray-50 border rounded-lg whitespace-pre-wrap"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const displays = {
                beliefs: document.getElementById('beliefs-display'),
                rules: document.getElementById('rules-display'),
                ontology: document.getElementById('ontology-display'),
                authenticity: document.getElementById('authenticity-display'),
                assembly_history: document.getElementById('assembly_history-display'),
                future_pull: document.getElementById('future_pull-display'),
                synthesis: document.getElementById('synthesis-input'),
                ai: document.getElementById('ai-analysis-display'),
            };

            const demoData = {
                beliefs: `My fundamental belief is in the interconnectedness of our world. I believe that a healthy environment is the foundation for a stable democracy, sustainable development, and peace. I do not see these as separate issues. A second core belief is in the power of grassroots action, particularly the power of women. I have seen time and again that when you empower women with knowledge and resources, they become powerful agents of change for their entire community.`,
                rules: `A primary rule of the Green Belt Movement was to "start small, but think big." We began by planting just seven trees, but the vision was always to reforest a nation. Another rule was to "link the local to the global." I taught the women that planting a tree was not just about firewood or soil conservation; it was about protecting biodiversity, combating climate change, and demanding their democratic rights. Finally, a personal rule was to "speak truth to power," even when it was dangerous. I refused to be intimidated by a corrupt government that saw our environmental work as a political threat.`,
                ontology: `My ontology was holistic and ecological. For me, a tree was never just a tree; it was a part of a complex system that provided clean air, water, food, and economic stability. The 'real' problem was not the lack of trees, but the political and economic systems that created the conditions for deforestation in the first place. I saw reality as a set of nested systems, from the local watershed to the global climate, and I believed that a problem in one part of the system would inevitably affect all the others.`,
                authenticity: `Authenticity for me meant living in a way that was true to my scientific training, my Kikuyu heritage, and my conscience. It would have been inauthentic to be an educated biologist and ignore the environmental destruction I saw all around me. My authentic self was the one who could speak the language of science to international bodies and the language of community to the rural women of Kenya. Authenticity was tested when I was arrested, beaten, and vilified by the government. In those moments, my authentic self was the one that refused to be silenced, because my core values were more important than my personal safety.`,
                assembly_history: `My assembly history is a story of bridging worlds. I grew up in a rural village in Kenya, close to the land. This was followed by a scientific education in the United States, which gave me a different, but complementary, understanding of the natural world. This fusion of traditional knowledge and modern science was the key event in my formation. When I returned to Kenya, I saw the environmental degradation with two sets of eyes, and this allowed me to create a solution—the Green Belt Movement—that was both scientifically sound and culturally resonant.`,
                future_pull: `My 'future pull' was the vision of a green, peaceful, and democratic Africa. I envisioned a future where communities, especially women, were empowered to be stewards of their own environment and masters of their own destiny. This vision of a restored and self-reliant Kenya created a present constraint, compelling me to act. Every tree we planted was a small act of building that future. The Nobel Peace Prize was not an endpoint, but an affirmation that our vision—that peace is rooted in a healthy environment—was a truth the world was ready to hear.`,
                synthesis: `My framework is built on the simple but profound belief that our environment is the foundation of our society. This is not a political opinion; it is an ecological reality. This ontological commitment to a holistic, interconnected world directly informs my primary rule: to empower grassroots movements, particularly women, to be the agents of their own environmental and democratic renewal.\n\nMy personal authenticity was found in the act of bridging my scientific education with my cultural roots. My assembly history gave me a unique voice to speak to both worlds. To see the degradation of my home and do nothing would have been a betrayal of everything I was. The 'future pull' of a green and peaceful Africa provided the roadmap for the Green Belt Movement. My synthesis is this: sustainable development, democracy, and peace are not separate goals. They are three legs of the same stool. You cannot have one without the others. Our work is not just about planting trees; it is about planting the seeds of a more just and sustainable future.`,
                ai: `Thank you for these powerful and integrated reflections. Your framework demonstrates a profound and holistic understanding of the connections between the environment, society, and peace.\n\n**Key Themes:**\n1.  **Holistic Interconnection:** The central theme is your unwavering belief that environmental health, democratic governance, women's rights, and peace are inextricably linked. You consistently break down the artificial barriers between these issues.\n2.  **Grassroots Empowerment:** You have a deep faith in the power of ordinary people, especially women, to create extraordinary change. Your work is not about top-down solutions, but about providing the tools and knowledge for communities to save themselves.\n3.  **Bridging Worlds:** Your assembly history gave you a unique ability to connect different forms of knowledge—scientific and traditional, local and global. This became a core strength, allowing you to create solutions that were both effective and culturally appropriate.\n\n**Potential Tensions:**\n- You often had to work against a corrupt and violent authoritarian government. How did you maintain your commitment to peaceful, grassroots action when the system you were opposing was anything but peaceful?\n\n**A Question for Deeper Synthesis:**\n- The Green Belt Movement was incredibly successful in mobilizing communities for a shared purpose. What are the key lessons from your movement that could be applied to other major global challenges, like political polarization or the spread of misinformation, that also require a sense of shared reality and collective action?`
            };

            const loadDemoBtn = document.getElementById('load-demo-btn');
            const DATA_KEYS = {
                beliefs: 'prf_beliefs_data',
                rules: 'prf_rules_data',
                ontology: 'prf_ontology_data',
                authenticity: 'prf_authenticity_data',
                assembly_history: 'prf_assembly_history_data',
                future_pull: 'prf_future_pull_data'
            };

            function showMessage(message, type = 'success') {
                const toast = document.createElement('div');
                toast.textContent = message;
                let bgColor = type === 'success' ? 'bg-green-600' : 'bg-red-600';
                toast.className = `fixed top-5 left-1/2 -translate-x-1/2 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg transition-opacity duration-300`;
                document.body.appendChild(toast);
                setTimeout(() => toast.style.opacity = '0', 2700);
                setTimeout(() => toast.remove(), 3000);
            }
            
            // Populate the display boxes on page load
            Object.keys(displays).forEach(key => {
                if (demoData[key]) {
                    displays[key].value = demoData[key];
                    displays[key].textContent = demoData[key];
                }
            });

            loadDemoBtn.addEventListener('click', () => {
                try {
                    Object.keys(DATA_KEYS).forEach(key => {
                        localStorage.setItem(DATA_KEYS[key], demoData[key]);
                    });
                    showMessage('Demo data has been successfully saved to your browser. You can now load it in the main PRF Synthesizer app.');
                } catch (e) {
                    console.error("Error saving to localStorage:", e);
                    showMessage('Could not save demo data. Your browser may be in private mode or have storage disabled.', 'error');
                }
            });
        });
    </script>
</body>
</html>
